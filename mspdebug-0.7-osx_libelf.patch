--- mspdebug-0.7-dist/elf32.c	2010-04-30 14:17:11.000000000 +0900
+++ mspdebug-0.7/elf32.c	2010-05-11 22:15:22.000000000 +0900
@@ -19,10 +19,16 @@
 #include <stdlib.h>
 #include <errno.h>
 #include <string.h>
+#ifdef __APPLE__
+#include <libelf.h>
+#else
 #include <elf.h>
+#endif
 #include "binfile.h"
 
+#ifndef EM_MSP430
 #define EM_MSP430	0x69
+#endif
 
 static const u_int8_t elf32_id[] = {
 	ELFMAG0, ELFMAG1, ELFMAG2, ELFMAG3, ELFCLASS32
